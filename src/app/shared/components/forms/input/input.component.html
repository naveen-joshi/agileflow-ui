<div class="input-wrapper">
  @if (label) {
    <label [for]="label" class="input-label">
      {{ label }}
      @if (required) {
        <span class="text-red-500">*</span>
      }
    </label>
  }

  <div class="input-container" [class.has-error]="error">
    @if (icon && iconPosition === 'left') {
      <mat-icon class="input-icon input-icon-left">{{ icon }}</mat-icon>
    }

    <input
      [type]="type"
      [id]="label"
      [placeholder]="placeholder"
      [value]="value"
      [disabled]="disabled"
      [required]="required"
      [class.has-left-icon]="icon && iconPosition === 'left'"
      [class.has-right-icon]="icon && iconPosition === 'right'"
      (input)="onInput($event)"
      (blur)="markAsTouched()"
      class="input-field"
    />

    @if (icon && iconPosition === 'right') {
      <mat-icon class="input-icon input-icon-right">{{ icon }}</mat-icon>
    }
  </div>

  @if (showError && control?.invalid) {
    <p class="input-error">{{ errorMessage }}</p>
  }

  @if (error) {
    <p class="input-error">{{ error }}</p>
  }

  @if (hint && !error) {
    <p class="input-hint">{{ hint }}</p>
  }
</div>